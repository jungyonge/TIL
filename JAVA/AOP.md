#AOP란

Aspect-Oriented Programming의 약자이다.
흩어진 Aspect들을 모아서 모듈화 하는 기법이다.  
서로 다른 클래스라고 하더라도 비슷한 기능을 하는 부분(ex 비슷한 메서드, 비슷한 코드)이있다. 이 부분을 Concern이라고 한다.  
흩어진 관심사를 Aspect로 모듈화하고 핵심적인 비즈니스 로직에서 분리하여 재사용하겠다는 것이 AOP의 취지다.

## AOP용어
- 타겟 (Target)
부가기능을 부여할 대상을 얘기합니다.  
여기선 핵심기능을 담당하는 getBoards 혹은 getUsers를 하는 Service 들을 얘기합니다.

- 애스펙트 (Aspect)  
객체지향 모듈을 오프젝트라 부르는것과 비슷하게 부가기능 모듈을 애스펙트라고 부르며, 핵심기능에 부가되어 의미를 갖는 특별한 모듈이라 생각하시면 됩니다.  
애스펙트는 부가될 기능을 정의한 어드바이스와 어드바이스를 어디에 적용할지를 결정하는 포인트컷을 함께 갖고 있습니다.  
참고로 AOP(Aspect Oriented Programming)라는 뜻 자체가 어플리케이션의 핵심적인 기능에서 부가적인 기능을 분리해서 애스팩트라는 독특한 모듈로 만들어서 설계하고 개발하는 방법을 얘기합니다  .

- 어드바이스 (Advice)  
실질적으로 부가기능을 담은 구현체를 얘기합니다.  
어드바이스의 경우 타겟 오프젝트에 종속되지 않기 때문에 순수하게 부가기능에만 집중할 수 있습니다.  
어드바이스는 애스펙트가 '무엇'을 '언제' 할지를 정의하고 있습니다.  

- 포인트컷 (PointCut)  
부가기능이 적용될 대상(메소드)를 선정하는 방법을 얘기합니다.  
즉, 어드바이스를 적용할 조인포인트를 선별하는 기능을 정의한 모듈을 애기합니다.  
 
- 조인포인트 (JoinPoint)  
어드바이스가 적용될 수 있는 위치를 얘기합니다.  
다른 AOP 프레임워크와 달리 Spring에서는 메소드 조인포인트만 제공하고 있습니다.  
(그래서 여러 책이나 문서에서 조인포인트에 대해 생략하기도 합니다. 무조건 메소드 단위로만 지정하기 때문입니다.)  
따라서 Spring 프레임워크 내에서 조인포인트라 하면 메소드를 가리킨다고 생각하셔도 됩니다.  
타 프레임워크에서는 예외 발생할 경우, 필드값이 수정될 경우 등도 지원하고 있습니다.  

- 프록시 (Proxy)  
타겟을 감싸서 타겟의 요청을 대신 받아주는 랩핑(Wrapping) 오브젝트입니다.  
호출자 (클라이언트)에서 타겟을 호출하게 되면 타겟이 아닌 타겟을 감싸고 있는 프록시가 호출되어, 타겟 메소드 실행전에 선처리, 타겟 메소드 실행 후, 후처리를 실행시키도록 구성되어있습니다.  


### jdk dynamic proxy
JDK 에서 제공하는 Dynamic Proxy는 1.3 버젼부터 생긴 기능이며,  
Interface를 기반으로 Proxy를 생성해주는 방식입니다.
그렇기 때문에 Interface를 강제화 한다는 단점이 있다는...  
Dynamic Proxy는 Invocation Handler를 상속받아서 실체를 구현하게 되는데,  
이 과정에서 특정 Object에 대해 Reflection을 사용하기 때문에 성능이 조금 떨어지는 크리티컬한 단점이 있습니다.  

### CGlib Proxy
CGlib은 기본적으로 Byte 코드를 조작해서, 바이너리가 만들어지기 때문에 JDK Dynamic Proxy보다 성능적으로 더 우세합니다  
다만, final 객체 혹은 private 접근자로 된 메서드는 상속(Override)가 지원되지 않기 때문에
제약적인 Proxy 구현이 가능하다는 것을 알 수 있습니다  

## 참조
- https://huisam.tistory.com/entry/springAOP
- https://atoz-develop.tistory.com/entry/Spring-%EC%8A%A4%ED%94%84%EB%A7%81-AOP-%EA%B0%9C%EB%85%90-%EC%9D%B4%ED%95%B4-%EB%B0%8F-%EC%A0%81%EC%9A%A9-%EB%B0%A9%EB%B2%95
